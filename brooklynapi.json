{"info": {"title": "Strike Mobile API", "version": "v1.0.0", "description": "The Strike Protocols Mobile API"}, "tags": [{"name": "Client Messaging", "description": "Proxy Messages between Client and GK8 server"}, {"name": "Push Notifications", "description": "Manage Push Notifications"}, {"name": "Users", "description": "Manage Users"}], "paths": {"/v1/client-messages": {"post": {"summary": "Send Client Messages to Gk8 Server", "tags": ["Client Messaging"], "parameters": [], "requestBody": {"content": {"application/json": {"example": {"messageType": "approveRequest", "payload": "{}"}, "schema": {"$ref": "#/components/schemas/MobileClientRequest"}}}, "required": true}, "responses": {"200": {"description": "OK", "content": {"application/json": {"example": {"messageType": "approveRequest", "payload": "{}"}, "schema": {"$ref": "#/components/schemas/MobileClientResponse"}}}}}, "security": [], "operationId": "client-messages", "deprecated": false}}, "/v1/notification-tokens": {"post": {"summary": "Register Push Notification Token", "tags": ["Push Notifications"], "parameters": [], "requestBody": {"content": {"application/json": {"example": {"deviceType": "ios", "token": "03df25c845d460bcdad7802d2vf6fc1dfde97283bf75cc993eb6dca835ea2e2f"}, "schema": {"$ref": "#/components/schemas/NotificationToken"}}}, "required": true}, "responses": {"200": {"description": "OK", "content": {"application/json": {"example": {"deviceType": "ios", "token": "03df25c845d460bcdad7802d2vf6fc1dfde97283bf75cc993eb6dca835ea2e2f"}, "schema": {"$ref": "#/components/schemas/NotificationToken"}}}}}, "security": [], "operationId": "register-notification-tokens", "deprecated": false}}, "/v1/notification-tokens/{notificationToken}/{deviceType}": {"delete": {"summary": "Unregister Push Notification Token", "tags": ["Push Notifications"], "parameters": [{"schema": {"type": "string"}, "in": "path", "name": "notificationToken", "required": true, "description": "Notification token identifier"}, {"schema": {"type": "string"}, "in": "path", "name": "deviceType", "required": true, "description": "Device Type Identifier"}], "responses": {"204": {"description": "", "content": {}}}, "security": [], "operationId": "unregister-notification-tokens", "deprecated": false}}, "/v1/users": {"get": {"summary": "Verify User", "tags": ["Users"], "parameters": [], "responses": {"200": {"description": "OK", "content": {"application/json": {"example": {"id": "9cbed2b9-7436-45ca-a5b5-8c7749725bd8", "fullName": "Test User", "loginName": "user@acme.com", "hasApprovalPermission": true, "activeInGk8": true, "organization": {"id": "45a2d19d-5bc9-43b7-9ec9-dbb9ffd2ac0", "name": "Acme "}}, "schema": {"$ref": "#/components/schemas/User"}}}}}, "security": [], "operationId": "verify-user", "deprecated": false}}}, "components": {"schemas": {"User": {"properties": {"id": {"example": "9cbed2b9-7436-45ca-a5b5-8c7749725bd8", "description": "The unique identifier of this user", "type": "string"}, "fullName": {"example": "Test User", "description": "The full name of this user", "type": "string"}, "loginName": {"example": "user@acme.com", "description": "The login name of this user", "type": "string"}, "hasApprovalPermission": {"example": true, "description": "This user has approval permission", "type": "boolean"}, "activeInGk8": {"example": true, "description": "Is this user active in Gk8", "type": "boolean"}, "organization": {"$ref": "#/components/schemas/Organization", "description": "The users organization"}}, "example": {"id": "9cbed2b9-7436-45ca-a5b5-8c7749725bd8", "fullName": "Test User", "loginName": "user@acme.com", "hasApprovalPermission": true, "activeInGk8": true, "organization": {"id": "45a2d19d-5bc9-43b7-9ec9-dbb9ffd2ac0", "name": "Acme "}}, "type": "object", "required": ["activeInGk8", "fullName", "hasApprovalPermission", "id", "loginName", "organization"]}, "Organization": {"properties": {"id": {"example": "45a2d19d-5bc9-43b7-9ec9-dbb9ffd2ac0", "description": "The unique identifier of the organization", "type": "string"}, "name": {"example": "Acme ", "description": "The name of this organization", "type": "string"}}, "example": {"id": "45a2d19d-5bc9-43b7-9ec9-dbb9ffd2ac0", "name": "Acme "}, "type": "object", "required": ["id", "name"]}, "NotificationToken": {"properties": {"deviceType": {"$ref": "#/components/schemas/DeviceType", "description": "The device Type "}, "token": {"example": "03df25c845d460bcdad7802d2vf6fc1dfde97283bf75cc993eb6dca835ea2e2f", "description": "The push notification token ", "type": "string"}}, "example": {"deviceType": "ios", "token": "03df25c845d460bcdad7802d2vf6fc1dfde97283bf75cc993eb6dca835ea2e2f"}, "type": "object", "required": ["deviceType", "token"]}, "DeviceType": {"example": "ios", "enum": ["ios", "android"], "type": "string"}, "MobileClientResponse": {"properties": {"messageType": {"$ref": "#/components/schemas/ClientMessageType", "description": "The type of this request"}, "payload": {"example": "{}", "description": "The payload of the response", "type": "string"}}, "example": {"messageType": "approveRequest", "payload": "{}"}, "type": "object", "required": ["messageType", "payload"]}, "ClientMessageType": {"example": "approveRequest", "enum": ["userConfiguration", "registerRemoteUser", "generateNewAccessToken", "storeSecp256r1VerifyKey", "getBulletins", "approveRequest", "ignoreRequest"], "type": "string"}, "MobileClientRequest": {"properties": {"messageType": {"$ref": "#/components/schemas/ClientMessageType", "description": "The type of this request"}, "payload": {"example": "{}", "description": "The payload of the response", "type": "string"}}, "example": {"messageType": "approveRequest", "payload": "{}"}, "type": "object", "required": ["messageType", "payload"]}}, "securitySchemes": {"Bearer": {"type": "http", "scheme": "Bearer", "description": "The Brooklyn API uses Bearer Token Authentication"}}}, "openapi": "3.0.0", "servers": [{"url": "https://brooklyn-prerelease.strikeprotocols.com", "description": "Prerelease server"}]}